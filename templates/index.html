{% extends "base.html" %}

{% block content %}
{% load crispy_forms_tags %}
<h1 class="display-1">Your Adventures</h1>
{% for adventure in adventure_list %}
<div class="card adventure-card">
  {% if "placeholder" in adventure.featured_image.url %}
  <img src="https://res.cloudinary.com/djs04srkx/image/upload/v1689779263/samples/landscapes/architecture-signs.jpg"class="card-img fixed-card adventure-image" alt="...">
  {% else %}
  <img src=" {{ adventure.featured_image.url }}"class="card-img fixed-card adventure-image" alt="...">
  {% endif %}
    <div class="card-img-overlay card-tint">
      <h1 class="card-title" ><a class= "title-style" href="{% url 'adventure_detail' adventure.id user.id %}">{{ adventure.name }}</a></h1>
      <p class="card-text"><i class="fa-regular fa-calendar-days"></i> {{ adventure.date|date:"M d, Y" }}</p>
      <p class="card-text"><small>Created by: {{ adventure.author }}</small></p>
      {% if perms.blog.edit_adventure %}
      <a href="/edit/{{ adventure.id }}/{{ user.id }}"><button class="btn btn-primary"><i class="fa-solid fa-pen"></i></button></td></a>
      {% endif %}
      {% if perms.blog.delete_adventure %}
      <a onclick="return confirm('Are you sure you want to delete {{ adventure.name }}?')" href="/delete/{{ adventure.id }}/{{ user.id }}"><button class="btn btn-danger"><i class="fa-solid fa-trash"></i></button></td></a>
      {% endif %}
    </div>
  </div>
  {% empty %}
  <p class="text-center">You have no Adventures planed.</p>
{% endfor %}
{% if perms.blog.add_adventure %}
<a href="/add/{{ user.id }}"><button type="button" class="btn btn-primary">New Adventure <i class="fa-solid fa-sun"></i></button></a>
{% endif %}
{% endblock %}